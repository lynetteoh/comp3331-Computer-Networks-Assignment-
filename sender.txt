lynettes-MacBook-Pro:assignment lynetteoh$ python3 sender.py localhost 8000 test0.pdf 600 150 4 0.1 0 0 0 5 0 2 100
Sender initialised

==== STATE: CLOSED ====

====STATE: SYN SENT====
0
1
True
True
SYNACK received
==== STP CONNECTION ESTABLISHED ===

final seq_num is 3029
file size: 3028
cur seq num is 1
still less than mss
bytes sent is  0
about to send payload 
next seq_no is 151
send packet without pld
if timeout, sending 
waiting for ack
received ack: 151 and the current send base is 0
new send_base  151
delete packet with seq_num 1 in buffer
buffer length is  0
cur seq num is 151
still less than mss
bytes sent is  150
about to send payload 
next seq_no is 301
send packet without pld
if timeout, sending 
waiting for ack
received ack: 301 and the current send base is 151
new send_base  301
delete packet with seq_num 151 in buffer
buffer length is  0
cur seq num is 301
still less than mss
bytes sent is  300
about to send payload 
next seq_no is 451
dropping packet with seq_num 301
if timeout, sending 
cur seq num is 451
still less than mss
bytes sent is  450
about to send payload 
next seq_no is 601
send packet without pld
waiting for ack
cur seq num is 601
still less than mss
bytes sent is  600
about to send payload 
next seq_no is 751
send packet without pld
waiting for ack
cur seq num is 751
still less than mss
bytes sent is  750
about to send payload 
next seq_no is 901
send packet without pld
waiting for ack
fast retransmission
send packet without pld
cur seq num is 901
still less than mss
bytes sent is  900
about to send payload 
next seq_no is 1051
send packet without pld
waiting for ack
received ack: 901 and the current send base is 301
new send_base  901
delete packet with seq_num 301 in buffer
delete packet with seq_num 451 in buffer
delete packet with seq_num 601 in buffer
delete packet with seq_num 751 in buffer
buffer length is  1
cur seq num is 1051
still less than mss
bytes sent is  1050
about to send payload 
next seq_no is 1201
send packet without pld
waiting for ack
received ack: 1051 and the current send base is 901
new send_base  1051
delete packet with seq_num 901 in buffer
buffer length is  1
cur seq num is 1201
still less than mss
bytes sent is  1200
about to send payload 
next seq_no is 1351
send packet without pld
waiting for ack
received ack: 1201 and the current send base is 1051
new send_base  1201
delete packet with seq_num 1051 in buffer
buffer length is  1
cur seq num is 1351
still less than mss
bytes sent is  1350
about to send payload 
next seq_no is 1501
send packet without pld
waiting for ack
received ack: 1351 and the current send base is 1201
new send_base  1351
delete packet with seq_num 1201 in buffer
buffer length is  1
cur seq num is 1501
still less than mss
bytes sent is  1500
about to send payload 
next seq_no is 1651
send packet without pld
waiting for ack
received ack: 1501 and the current send base is 1351
new send_base  1501
delete packet with seq_num 1351 in buffer
buffer length is  1
cur seq num is 1651
still less than mss
bytes sent is  1650
about to send payload 
next seq_no is 1801
send packet without pld
waiting for ack
received ack: 1651 and the current send base is 1501
new send_base  1651
delete packet with seq_num 1501 in buffer
buffer length is  1
cur seq num is 1801
still less than mss
bytes sent is  1800
about to send payload 
next seq_no is 1951
send packet without pld
waiting for ack
received ack: 1801 and the current send base is 1651
new send_base  1801
delete packet with seq_num 1651 in buffer
buffer length is  1
cur seq num is 1951
still less than mss
bytes sent is  1950
about to send payload 
next seq_no is 2101
send packet without pld
waiting for ack
received ack: 1951 and the current send base is 1801
new send_base  1951
delete packet with seq_num 1801 in buffer
buffer length is  1
cur seq num is 2101
still less than mss
bytes sent is  2100
about to send payload 
next seq_no is 2251
send packet without pld
waiting for ack
received ack: 2101 and the current send base is 1951
new send_base  2101
delete packet with seq_num 1951 in buffer
buffer length is  1
cur seq num is 2251
still less than mss
bytes sent is  2250
about to send payload 
next seq_no is 2401
send packet without pld
waiting for ack
received ack: 2251 and the current send base is 2101
new send_base  2251
delete packet with seq_num 2101 in buffer
buffer length is  1
cur seq num is 2401
still less than mss
bytes sent is  2400
about to send payload 
next seq_no is 2551
send packet without pld
waiting for ack
received ack: 2401 and the current send base is 2251
new send_base  2401
delete packet with seq_num 2251 in buffer
buffer length is  1
cur seq num is 2551
still less than mss
bytes sent is  2550
about to send payload 
next seq_no is 2701
send packet without pld
waiting for ack
received ack: 2551 and the current send base is 2401
new send_base  2551
delete packet with seq_num 2401 in buffer
buffer length is  1
cur seq num is 2701
still less than mss
bytes sent is  2700
about to send payload 
next seq_no is 2851
send packet without pld
waiting for ack
received ack: 2701 and the current send base is 2551
new send_base  2701
delete packet with seq_num 2551 in buffer
buffer length is  1
cur seq num is 2851
still less than mss
bytes sent is  2850
about to send payload 
next seq_no is 3001
send packet without pld
waiting for ack
received ack: 2851 and the current send base is 2701
new send_base  2851
delete packet with seq_num 2701 in buffer
buffer length is  1
cur seq num is 3001
still less than mss
bytes sent is  3000
about to send payload 
next seq_no is 3029
dropping packet with seq_num3001
cur seq num is 3029
still less than mss
bytes sent is  3150
There are still unacked packets that need to be resent even though self.last_sent 
list is  [2851, 3001]
send packet without pld
waiting for ack
received ack: 3001 and the current send base is 2851
new send_base  3001
delete packet with seq_num 2851 in buffer
buffer length is  1
cur seq num is 3029
still less than mss
bytes sent is  3300
There are still unacked packets that need to be resent even though self.last_sent 
list is  [3001]
send packet without pld
waiting for ack
received ack: 3029 and the current send base is 3001
new send_base  3029
delete packet with seq_num 3001 in buffer
buffer length is  0
closing
fin sent
====fin_wait_1====
====fin_wait_2====
====time_wait====
Connection closed
lynettes-MacBook-Pro:assignment lynetteoh$ 
